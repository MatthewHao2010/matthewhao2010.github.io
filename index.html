<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shijie, Matthew Hao</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <ul style="justify-content: space-between;">
                <li><a href="index.html">Home</a></li>
                <li><a href="sports.html">Sports</a></li>
                <li><a href="music.html">Music</a></li>
                <li><a href="academics.html">Academics</a></li>
                <li><a href="ec.html">Extra-curriculurs</a></li>
                <li><a href="tns.html">Teaching & Speaking</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
        <h1 class="typewriter">Welcome to My Personal Website</h1>
    </header>
    <div style="text-align: center; margin-top: 20px;">
        <a id="arrow" href="#content">&#x2193;</a>
    </div>
    <section id="carousel" class="stack-container">
        <button class="arrow left" onclick="scrollContent('left')">❮</button>
        <div class="item" style="background-image: url('assets/1.png');" data-text="Playing&#10;Squash" onclick="window.location.href='sports.html#squash'"></div>
        <div class="item" style="background-image: url('assets/2.png');" data-text="Playing&#10;the&#10;Bassoon" onclick="window.location.href='music.html#bassoon'"></div>
        <div class="item" style="background-image: url('assets/3.png');" data-text="Playing&#10;Tennis" onclick="window.location.href='sports.html#tennis'"></div>
        <div class="item" style="background-image: url('assets/4.png');" data-text="Inter-Subject&#10;Innovative&#10;AI&#10;Project" onclick="window.location.href='academics.html#computer-science'"></div>
        <div class="item" style="background-image: url('assets/5.png');" data-text="Playing&#10;the&#10;Drumset" onclick="window.location.href='music.html#drumset'"></div>
        <div class="item" style="background-image: url('assets/6.png');" data-text="Skiing&#10;every&#10;Winter" onclick="window.location.href='sports.html#skiing'"></div>
        <div class="item" style="background-image: url('assets/7.png');" data-text="Playing&#10;for&#10;the&#10;School&#10;Band" onclick="window.location.href='music.html#school-band'"></div>
        <div class="item" style="background-image: url('assets/8.png');" data-text="Innovative&#10;Music&#10;Project" onclick="window.location.href='music.html#music-project'"></div>
        <div class="item" style="background-image: url('assets/9.png');" data-text="Speaking" onclick="window.location.href='tns.html#speaking'"></div>
        <div class="item" style="background-image: url('assets/10.png');" data-text="Teaching&#10;at&#10;Home" onclick="window.location.href='tns.html#teaching-home'"></div>
        <button class="arrow right" onclick="scrollContent('right')">❯</button>
        <div class="progress-bar"></div>
    </section>

    <div style="text-align: center; margin-top: 20px;">
        <a href="https://www.youtube.com/@MatthewMattttthewwHao" target="_blank" style="text-decoration: none;">
            <button style="position: absolute; left: 50%; transform: translateX(-50%); padding: 12px 24px; border: none; border-radius: 10px; background-color: transparent; color: white; font-size: 16px; font-weight: bold; cursor: pointer; justify-content: space-between; display: flex; align-items: center; font-family: Arial, sans-serif; box-shadow: none;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png" alt="YouTube Icon" style="width: 20px; height: 20px; vertical-align: middle; margin-right: 8px;">
                Visit my Youtube Channel
            </button>
        </a>
    </div>

    <script>
        // Shuffle function
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        let currentIndex = 0;
        const itemsNodeList = document.querySelectorAll('.item');
        const items = Array.from(itemsNodeList);
        shuffleArray(items);
        
        // Remove original items
        itemsNodeList.forEach(item => item.remove());
        
        // Add shuffled items back
        const container = document.querySelector('.stack-container');
        const rightArrow = document.querySelector('.arrow.right');
        items.forEach(item => {
            container.insertBefore(item, rightArrow);
        });
        
        const totalItems = items.length;
        const progressBar = document.querySelector('.progress-bar');
        let progressInterval;
        
        const startProgress = () => {
            progressBar.style.width = '0%';
            progressBar.style.transition = 'width 3.5s linear';
            setTimeout(() => {
                progressBar.style.width = '100%';
            }, 50);
            
            progressInterval = setTimeout(() => {
                scrollContent('right');
                startProgress();
            }, 5000);
        };
        
        const scrollContent = (direction) => {
            clearTimeout(progressInterval);
            if (direction === 'left') {
                currentIndex = (currentIndex - 1 + totalItems) % totalItems;
            } else if (direction === 'right') {
                currentIndex = (currentIndex + 1) % totalItems;
            }
            
            Array.from(items).forEach((item, i) => {
                if (i === currentIndex) {
                    item.style.transform = `translateX(0) rotateY(0deg)`;
                    item.style.opacity = 1;
                    item.style.zIndex = 3;
                    item.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.5)';
                } else if (i === ((currentIndex - 1 + totalItems) % totalItems)) {
                    item.style.transform = `translateX(-40%) rotateY(-15deg) translateZ(-100px)`;
                    item.style.opacity = 0.8;
                    item.style.zIndex = 2;
                    item.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.3)';
                } else if (i === ((currentIndex + 1) % totalItems)) {
                    item.style.transform = `translateX(40%) rotateY(15deg) translateZ(-100px)`;
                    item.style.opacity = 0.8;
                    item.style.zIndex = 2;
                    item.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.3)';
                } else {
                    item.style.opacity = 0;
                    item.style.zIndex = 1;
                }
            });
            startProgress();
        };
        scrollContent();
    </script>
    <script>
        document.getElementById('arrow').addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector('#carousel').scrollIntoView({
                behavior: 'smooth'
            });
        });
    </script>
</body>
</html>